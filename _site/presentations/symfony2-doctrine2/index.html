<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Symfony 2 and Doctrine</title>

		<meta name="description" content="Why use Symfony2 and Doctrine">
		<meta name="author" content="Juan Manuel Torres">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/reveal.min.css">
		<link rel="stylesheet" href="css/theme/default.css" id="theme">

		<!-- For syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- If the query includes 'print-pdf', use the PDF print sheet -->
		<script>
			document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">

				<section>
					<h1>Why Use Symfony 2?</h1>
					<div class="fragment">
                    <h3>Because is awesome!</h3>
                    <img src="http://distilleryimage5.s3.amazonaws.com/c4820b5082fb11e2bbed22000a9e28b0_7.jpg" height="400">
                    </div>
					<small>Created by <a href="http://onema.io">Juan Manuel Torres</a> / <a href="http://twitter.com/onema">@onema</a></small>
				</section>
				<section>
					<h2>... No, but seriously why? ...</h2>
                    <ol>
                        <li class="fragment">Well documented</li>
                        <li class="fragment">Active community</li>
                        <li class="fragment">Performance and Scalability by complying with development standards</li>
                        <li class="fragment">Compliance = faster integration with other parts of the system and third party software</li>
                        <li class="fragment">Facilitates long-term maintenance</li>
                        <li class="fragment">Flexibility. Quickly overwrite default behaviors </li>
                        <li class="fragment">Effective separation of code-base into "Bundles"</li>
                        <li class="fragment">Reputation: Stable code-base, well-known, recognized internationally</li>
                    </ol>
					<aside class="notes">
						Oh hey, these are some notes. They'll be hidden in your presentation, but you can see them if you open the speaker notes window (hit 's' on your keyboard).
					</aside>
				</section>

				<!-- Example of nested vertical slides -->
				<section>
					<section>
						<h2>Great Documentation</h2>
						<p>
                            Just visit <a href="http://symfony.com/doc/2.2/book/index.html">Symfony.com</a> to get an idea!
						</p>
						<a href="#" class="image navigate-down">
							<img width="178" height="238" src="https://s3.amazonaws.com/hakim-static/reveal-js/arrow.png" alt="Down arrow">
						</a>
					</section>
					<section>
						<h2>The book</h2>
                        <h4>
                            Incredibly simple and well written, working examples make it fun to "code-along". 
                        </h4>
						<blockquote cite="http://symfony.com/doc/master/book/index.html">
                            &ldquo;Prepared by the core team, this is the Symfony bible. 
                            It is the reference for any user of the platform, who will typically want to keep it close at hand.&rdquo;
                        </blockquote>
                        <br />
                        
					</section>
					<section>
						<h2>The Cookbook</h2>
						<blockquote cite="http://symfony.com/doc/master/cookbook/index.html">
                            &ldquo;A cookbook is not intended to teach you how to cook: it guides you in preparing specific dishes according to a precise methodology. 
                            The Symfony cookbook is similar: You will find specific solutions for specific needs.&rdquo;
                        </blockquote>
                        <br />
					</section>
					<section>
						<h2>Well documented code</h2>
						<p>Using the code is rather simple thanks to it's well documented classes and methods.</p>
						<a href="#/2" class="image">
							<img height="238" src="http://distilleryimage5.s3.amazonaws.com/65a4b0aac54611e2837022000a1fa4bb_7.jpg">
						</a>
					</section>
				</section>

				<section>
					<h2>Active Commiunity</h2>
					<p>
						Without a community an open source product is dead! Symfony has a 
                        large global community that contributes hosts of Open Source code.
                        
					</p>
				</section>

				<section>
                    <section>
                        <h2>Performance and Scalability by complying with development standards</h2>
                    </section>
                    <section>
                        <h2>Symfony facilitates the development and performance of applications</h2> 
                        <p>
                            by implementing standards: 
                        </p>
                        <ol>
                            <li class="fragment">Natively handle website accelerators</li>
                            <li class="fragment">PHPUnit</li>
                            <li class="fragment">Naming conventions</li>
                            <li class="fragment">PSR-0, PSR-1, PSR-2</li>
                        </ol>
                    </section>
                    <section>
                        <h2>
                            Well designed Object Oriented framework enables developers to override or customize default behavior through the use of building blocks like: 
                        </h2>
                        <ol>
                            <li class="fragment">dependency injection</li>
                            <li class="fragment">translation management</li>
                            <li class="fragment">forms management</li>
                            <li class="fragment">event dispacher</li>
                            <li class="fragment">many more!</li>
                        </ol>
                    </section>
                    <section>
                        <h2>
                            Build in tools to aid development
                        </h2>
                        <ol>
                            <li class="fragment">Web Debug tool-bar</li>
                            <li class="fragment">Web Profiler (displays a rich amount of information to quickly identify problems)</li>
                            <li class="fragment">Web Crawler (for functional testing)</li>
                        </ol>
                    </section>
				</section>

				<section>
					<h2>Facilitates longterm maintenance</h2>
					<p>
                        <a href="http://sensiolabs.com/en">
                            <img src='http://sensiolabs.com/images/fr/logo/header_logo.gif' />
                        </a><br /> is the company behind Symfony with more than 12 years of experience SensioLabs offers:
                    </p>
                    <ol>
                        <li class="fragment">Paid Support</li>
                        <li class="fragment">Training Courses</li>
                        <li class="fragment">Certifications</li>
                        <li class="fragment">Major Versions are supported up to 3 years (starting with 2.3)</li>
                        <li class="fragment">Lot's of FREE support (community)</li>
                    </ol>
					
				</section>

				<section>
                    <section>
                        <h2>Effective separation of code-base into "Bundles"</h2>
                        <blockquote cite="http://symfony.com/doc/master/quick_tour/the_architecture.html">
                            &ldquo;Bundles are first-class citizens in Symfony2. 
                            This gives you the flexibility to use pre-built features packaged in third-party bundles or to distribute your own bundles.&rdquo;
                        </blockquote>
                    </section>
                    <section>
                        <h2>Many actively developed bundles</h2>
                        <p>Backed by the community and companies</p>
                        <ul>
                            <li><a href='https://github.com/FriendsOfSymfony'>Friends Of Symfony</a></li>
                            <li><a href='http://knplabs.com'>KNP Labs</a></li>
                            <li><a href='http://us.hardware.info'>Hardware.info</a></li>
                        </ul>
                        <p>Just to name a few</p>
                    </section>
				</section>

				<section data-state="soothe">
					<h1>Doctrine</h1>
					<p>Robust set of PHP libraries use for persistence services</p>
                    <p>Symfony 2 Standard Edition ships with Doctrine 2 ORM and is highly integrated yet not coupled.</p>
				</section>
                    <section data-state="soothe">
                        <h2>Doctrine Object Relational Mapper</h2>
                        <p>
                            Is a PHP 5.3.3+ ORM that provides transparent persistence for PHP objects, effectively separating domain/business logic from the persistence layer.
                        </p>                    
                    </section>
                    <section>
                    <section data-markdown  data-state="soothe">
                        <script type="text/template">
						
						##Entities
						Entities are PHP Objects that can be identified over many request by a unique id or pk. These classes don't need to extend any abstract base class or interface. 

						```php
						<?php 
						// src/Onema/MyBundle/Entity/Category.php
						namespace Onema\MyBundle\Entity;
                        
						use Doctrine\ORM\Mapping AS ORM;
						/** 
						 * @ORM\Entity  @ORM\Table(name="categories") 
						 */     
						class Category
						{
						    /** @ORM\Id @ORM\Column(type="integer") @ORM\GeneratedValue(strategy="AUTO") @Groups({"all", "id"}) */
						    private $id;
                            
						    /** @ORM\Column(type="string", length=25, nullable=false) @Groups({"all", "category"}) */
						    private $name;
						}
						```
                        </script>
                    </section>

                    <section data-state="soothe">
                        <h2>An Entity Manager is use to persist the objects</h2>
                        <pre><code data-trim contenteditable>
// src/Onema/MyBundle/Controller/DefaultController.php
use Acme\StoreBundle\Entity\Category;
use Symfony\Component\HttpFoundation\Response;

function createAction() {
    $category = new Category();
    $category->setName('New Awesome Category');

    // Obtaining the entity manager is handled by symfony
    $entityManager = $this->getDoctrine()->getManager();
    $entityManager->persist($category);
    $entityManager->flush();
    
    return new Response('Created Category id: ' . $category->getId());
}
					</code></pre>
                    </section>

                    <section data-state="soothe">
                        <h2>Fetching and updating objects </h2>
                        <pre><code data-trim contenteditable>
public function updateAction($id)
{
    $entityManager = $this->getDoctrine->getManager();
    $category = $entityManager->getRepository('OnemaMyBundle:Category')->find($id);

    if (!$category) {
        throw $this->createNotFoundException(
            'No category found for id '.$id
        );
    }

    $category->setName('New category name!');
    $entityManager->flush();

    return $this->redirect($this->generateUrl('homepage'));
}
                        </code></pre>
                    </section>
                </section>
				<section>
                    <section data-state="soothe">
                        <h2>Entity Repositories</h2>
                        <p>
                            So far creating, fetching, and updating has been more complex than using other ORMs like Propel or Eloquent. 
                            This is because the Doctrine query logic is separated from the model <b>avoiding coupling the model with specific query logic</b>. 
                        </p>

                        <blockquote cite="http://martinfowler.com/eaaCatalog/repository.html">
                            This logic is effectively separated by the use of a Repository Pattern which &ldquo;mediates between the domain and the data mapping layers using a collection-like interface for accessing domain objects&rdquo;
                        </blockquote>
                    </section>

					<section data-state="soothe">
						<h2>Using Repositories</h2>
						<p>
                            Every entity uses a default repository that has many convenience methods use to query for instances of the Entity.
						</p>
                        <pre><code data-trim contenteditable>
						
$category = $entityManager->getRepository('OnemaMyBundle:Cagetory')
                          ->findBy(array('name' => 'some category name'));
                        </code></pre>
					</section>
                    <section data-state="soothe">
					<h2>Custom Repositories</h2>
						<p>
                            Some of these methods may fall short when doing complex queries. 
                            You can extend the functionalities of the default EntityRepository and put DQL or SQL in your logic. 
						</p>
                        <pre><code data-trim contenteditable>
						
use Doctrine\ORM\EntityRepository;

class CategoryRepository extends EntityRepository
{
    public function getRelatedArticles($categoryName)
    {
        // ...
    }
}
                        </code></pre>
					</section>
				</section>

				<section data-state="alert">
					<h1>MongoDB ODM</h1>
					<p>
						Doctrine's implementation of the Object Document Mapper provides transparent persistence for PHP objects.
					</p>
					
				</section>

				<section data-state="alert">
					<h2>Documents</h2>
					<p>
						Just like the ORM, the ODM uses persistent model classes called Documents.
                        These documents are PHP objects that contain MongoDB specific mapping information.
					</p>
				</section>
                
                <section data-state="alert">
					<h2>Manager and Repositories</h2>
					<p>
						The concept of Manager and Repositories and implemented in a similar fashion for the ODM. This consistency simplifies the implementation when using more that one Data Store ie: Doctrine ORM or MongoDB.
					</p>
                    <pre><code data-trim contenteditable>
protected function getManager($dataStore = null)
{
    if(!isset($dataStore)) {
        $dataStore = $this->defaultDataStore;
    }

    return $this->container->get($dataStore)->getManager();
}
                </code></pre>
				</section>

				<section>
					<h2>We have been using Open Source, but Why OS?</h2>
                    <p>
                        <a href="https://speakerdeck.com/bshaffer/why-opensource-is-better-than-your-homerolled-garbage-in-a-comic-strip?slide=2" >The Overly Scrupulous Construction Team!</a>
                    </p>
				</section>
				<section>
					<h2>Intergalactic Interconnections</h2>
					<p>
						You can link between slides internally,
						<a href="#/2/3">like this</a>.
					</p>
                    
				</section>

				<section>
					<section>
						<h2>Fragmented Views</h2>
						<p>Hit the next arrow...</p>
						<p class="fragment">... to step through ...</p>
						<ol>
							<li class="fragment"><code>any type</code></li>
							<li class="fragment"><em>of view</em></li>
							<li class="fragment"><strong>fragments</strong></li>
						</ol>

						<aside class="notes">
							This slide has fragments which are also stepped through in the notes window.
						</aside>
					</section>
					<section>
						<h2>Fragment Styles</h2>
						<p>There's a few styles of fragments, like:</p>
						<p class="fragment grow">grow</p>
						<p class="fragment shrink">shrink</p>
						<p class="fragment roll-in">roll-in</p>
						<p class="fragment fade-out">fade-out</p>
						<p class="fragment highlight-red">highlight-red</p>
						<p class="fragment highlight-green">highlight-green</p>
						<p class="fragment highlight-blue">highlight-blue</p>
					</section>
				</section>

				<section>
					<h2>Spectacular image!</h2>
					<a class="image" href="http://lab.hakim.se/meny/" target="_blank">
						<img width="320" height="299" src="http://s3.amazonaws.com/hakim-static/portfolio/images/meny.png" alt="Meny">
					</a>
				</section>

				<section>
					<h2>Export to PDF</h2>
					<p>Presentations can be <a href="https://github.com/hakimel/reveal.js#pdf-export">exported to PDF</a>, below is an example that's been uploaded to SlideShare.</p>
					<iframe id="slideshare" src="http://www.slideshare.net/slideshow/embed_code/13872948" width="455" height="356" style="margin:0;overflow:hidden;border:1px solid #CCC;border-width:1px 1px 0;margin-bottom:5px" allowfullscreen> </iframe>
					<script>
						document.getElementById('slideshare').attributeName = 'allowfullscreen';
					</script>
				</section>

				<section>
					<h2>Take a Moment</h2>
					<p>
						Press b or period on your keyboard to enter the 'paused' mode. This mode is helpful when you want to take distracting slides off the screen
						during a presentation.
					</p>
				</section>

				<section>
					<h2>Stellar Links</h2>
					<ul>
						<li><a href="http://slid.es">Try the online editor</a></li>
						<li><a href="https://github.com/hakimel/reveal.js">Source code on GitHub</a></li>
						<li><a href="http://twitter.com/hakimel">Follow me on Twitter</a></li>
					</ul>
				</section>

				<section>
					<h1>THE END</h1>
					<h3>BY Hakim El Hattab / hakim.se</h3>
				</section>

			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.min.js"></script>

		<script>

			// Full list of configuration options available here:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
				transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

				// Optional libraries used to extend on reveal.js
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
					{ src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
					// { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
				]
			});

		</script>

	</body>
</html>
